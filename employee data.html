<!DOCTYPE html>
<html lang="en">

<head>
    <title>Document</title>
    <style>

        table{
            width: 70%;
        }
        th,td{
            border: 1px solid black;
            padding: 10px;
        }

        .div{
            margin-left: 20%;
            margin-top: 5%;

        }
        #employee{
            margin-left: 15%;
         
        }
    </style>
</head>

<body>

<div class="div">
    <form onsubmit="formSubmit()">
        <input type="text" id="fullName" name="fullName" placeholder="Fullname" required style="height: 25px;">
        <br><br>
        <input type="email" id="email" name="email" placeholder="email" style="height: 25px;">
        <br><br>
        <input type="text" id="mobile" name="mobile" placeholder="Mobile" style="height: 25px;">
        <br><br>
        <input type="text" id="city" name="city" placeholder="City" style="height: 25px;">
        <br><br>
        <input type="submit" value="Add" style="background-color:blue; height: 30px;">
    </form>
</div>
    <br><br>

    <table id="employee">
        <thead>
            <tr>
                <th>FullName</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>City</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
    <script>
let row =null
function formSubmit(){
    event.preventDefault()
   let formData= readForm()
   if(row ==null){
    insertData(formData)
   }
   else{
    formUdate(formData)
   }
  
    reset()
}

function readForm(){
    const formData={}
    formData["fullName"]=document.getElementById("fullName").value
    formData["email"]=document.getElementById("email").value
    formData["mobile"]=document.getElementById("mobile").value
    formData["city"]=document.getElementById("city").value
    return formData
}

function insertData(data){
    let table=document.getElementsByTagName("tbody")[0]
    let row=table.insertRow(table.length)

    cell1=row.insertCell(0)
    cell1.innerHTML=data.fullName

    cell2=row.insertCell(1)
    cell2.innerHTML=data.email
    
    cell3=row.insertCell(2)
    cell3.innerHTML=data.mobile

    cell4=row.insertCell(3)
    cell4.innerHTML=data.city
    
    cell5=row.insertCell(4)
    cell5.innerHTML=`<button onclick="formDelete(this)">Delete</button> <button onclick="formEdit(this)">Edit</button>`
}

function reset(){
  document.getElementById("fullName").value=""
   document.getElementById("email").value=""
    document.getElementById("mobile").value=""
    document.getElementById("city").value=""
}


function formDelete(table){
       row=table.parentElement.parentElement
       document.getElementById("employee").deleteRow(row.rowIndex)
}

function formEdit(table){
    row=table.parentElement.parentElement
    document.getElementById("fullName").value=row.cells[0].innerHTML
    document.getElementById("email").value=row.cells[1].innerHTML
    document.getElementById("mobile").value=row.cells[2].innerHTML
    document.getElementById("city").value=row.cells[3].innerHTML
}


function formUdate(data){
    row.cells[0].innerHTML=data.fullName
    row.cells[1].innerHTML=data.email
    row.cells[2].innerHTML=data.mobile
    row.cells[3].innerHTML=data.city

}   
    </script>

</body>

</html>